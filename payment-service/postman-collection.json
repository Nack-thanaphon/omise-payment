{
  "info": {
    "name": "Payment & Reservation Service",
    "description": "API collection for testing payment and seat reservation endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/v1/health",
          "host": ["{{baseUrl}}"],
          "path": ["api", "v1", "health"]
        }
      }
    },
    {
      "name": "Get All Seats",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/v1/seats",
          "host": ["{{baseUrl}}"],
          "path": ["api", "v1", "seats"]
        }
      }
    },
    {
      "name": "Get Seat by ID",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/v1/seats/{{seatId}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "v1", "seats", "{{seatId}}"]
        }
      }
    },
    {
      "name": "Reserve Seat",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"seat_id\": \"{{seatId}}\",\n  \"customer_email\": \"customer@example.com\",\n  \"duration_minutes\": 15\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/v1/seats/reserve",
          "host": ["{{baseUrl}}"],
          "path": ["api", "v1", "seats", "reserve"]
        }
      }
    },
    {
      "name": "Cancel Reservation",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"seat_id\": \"{{seatId}}\",\n  \"customer_email\": \"customer@example.com\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/v1/seats/cancel",
          "host": ["{{baseUrl}}"],
          "path": ["api", "v1", "seats", "cancel"]
        }
      }
    },
    {
      "name": "Create Payment - Card",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"amount\": 1200.00,\n  \"currency\": \"THB\",\n  \"payment_method\": \"card\",\n  \"seat_id\": \"{{seatId}}\",\n  \"customer_email\": \"customer@example.com\",\n  \"description\": \"Seat reservation payment - Card\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/v1/payments/create",
          "host": ["{{baseUrl}}"],
          "path": ["api", "v1", "payments", "create"]
        }
      }
    },
    {
      "name": "Create Payment - QR Code",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"amount\": 850.00,\n  \"currency\": \"THB\",\n  \"payment_method\": \"qr_code\",\n  \"seat_id\": \"{{seatId}}\",\n  \"customer_email\": \"customer@example.com\",\n  \"description\": \"Seat reservation payment - QR Code\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/v1/payments/create",
          "host": ["{{baseUrl}}"],
          "path": ["api", "v1", "payments", "create"]
        }
      }
    },
    {
      "name": "Create Payment - Bank Transfer",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"amount\": 950.00,\n  \"currency\": \"THB\",\n  \"payment_method\": \"bank_transfer\",\n  \"seat_id\": \"{{seatId}}\",\n  \"customer_email\": \"customer@example.com\",\n  \"description\": \"Seat reservation payment - Bank Transfer\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/v1/payments/create",
          "host": ["{{baseUrl}}"],
          "path": ["api", "v1", "payments", "create"]
        }
      }
    },
    {
      "name": "Create Payment - WeChat Pay",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"amount\": 750.00,\n  \"currency\": \"THB\",\n  \"payment_method\": \"wechat_pay\",\n  \"seat_id\": \"{{seatId}}\",\n  \"customer_email\": \"customer@example.com\",\n  \"description\": \"Seat reservation payment - WeChat Pay\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/v1/payments/create",
          "host": ["{{baseUrl}}"],
          "path": ["api", "v1", "payments", "create"]
        }
      }
    },
    {
      "name": "Get All Payments",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/v1/payments",
          "host": ["{{baseUrl}}"],
          "path": ["api", "v1", "payments"]
        }
      }
    },
    {
      "name": "Get Payment by ID",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/v1/payments/{{paymentId}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "v1", "payments", "{{paymentId}}"]
        }
      }
    },
    {
      "name": "Omise Webhook - Payment Complete",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "X-Omise-Signature",
            "value": "test-signature"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"key\": \"charge.complete\",\n  \"data\": {\n    \"id\": \"chrg_test_123456789\",\n    \"amount\": 120000,\n    \"currency\": \"THB\",\n    \"status\": \"successful\"\n  }\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/payment/webhook",
          "host": ["{{baseUrl}}"],
          "path": ["api", "payment", "webhook"]
        }
      }
    },
    {
      "name": "Omise Webhook - Payment Failed",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "X-Omise-Signature",
            "value": "test-signature"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"key\": \"charge.failed\",\n  \"data\": {\n    \"id\": \"chrg_test_123456789\",\n    \"amount\": 120000,\n    \"currency\": \"THB\",\n    \"status\": \"failed\"\n  }\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/payment/webhook",
          "host": ["{{baseUrl}}"],
          "path": ["api", "payment", "webhook"]
        }
      }
    },
    {
      "name": "Bull Board Dashboard",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/admin/queues",
          "host": ["{{baseUrl}}"],
          "path": ["admin", "queues"]
        }
      }
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000"
    },
    {
      "key": "seatId",
      "value": "seat-uuid-here"
    },
    {
      "key": "paymentId",
      "value": "payment-uuid-here"
    }
  ]
}
